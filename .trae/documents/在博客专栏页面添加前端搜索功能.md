# 在博客专栏页面添加前端搜索功能（纯前端实现）

## 实现方案

### 1. 搜索框布局
- 在博客专栏页面的标题下方添加搜索框
- 搜索框位于博客分类卡片上方，与标题在同一视觉区域
- 搜索框宽度适配页面布局，保持响应式设计

### 2. 前端数据获取
- 使用客户端组件模式（'use client'）
- 在组件挂载时，通过 fetch API 从 `public/md` 目录读取所有 Markdown 文件
- 解析文件内容，提取文章标题、描述和内容
- 将所有文章数据存储在前端状态中

### 3. 搜索功能实现
- 实现实时搜索，当用户输入时自动更新搜索结果
- 支持标题和内容的搜索
- 支持大小写不敏感的搜索
- 支持部分匹配搜索
- 显示搜索结果数量

### 4. 搜索结果展示
- 当用户搜索时，替换分类卡片为搜索结果列表
- 每个结果项包含文章标题、分类、摘要和链接
- 添加搜索结果的动画效果
- 提供清除搜索、返回分类视图的功能

### 5. 性能优化
- 实现搜索防抖，避免频繁搜索导致性能问题
- 优化文件读取和解析过程
- 实现搜索结果的虚拟滚动

## 技术实现要点

### 1. 前端数据获取
```typescript
// 客户端组件中读取 Markdown 文件
const fetchArticles = async () => {
  const categories = [];
  const articles = [];
  
  // 读取分类目录
  const response = await fetch('/md/');
  const html = await response.text();
  // 解析 HTML 提取目录列表
  // ...
  
  // 读取每个分类下的文章
  for (const category of categories) {
    const categoryResponse = await fetch(`/md/${category.id}/`);
    const categoryHtml = await categoryResponse.text();
    // 解析 HTML 提取文章列表
    // ...
    
    // 读取每个文章内容
    for (const article of categoryArticles) {
      const articleResponse = await fetch(`/md/${category.id}/${article}.md`);
      const content = await articleResponse.text();
      // 解析文章内容
      // ...
      articles.push({
        id: article,
        title: parsedTitle,
        description: parsedDescription,
        content,
        category: category.id
      });
    }
  }
  
  return articles;
};
```

### 2. 搜索逻辑
```typescript
// 前端搜索函数
const searchArticles = (keyword: string) => {
  if (!keyword.trim()) return [];
  
  return articles.filter(article => {
    const searchTerm = keyword.toLowerCase();
    return (
      article.title.toLowerCase().includes(searchTerm) ||
      article.content.toLowerCase().includes(searchTerm)
    );
  });
};
```

### 3. 布局实现
```tsx
// 搜索框布局
<div className="mb-12">
  <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
    <div>
      <h1 className="text-5xl md:text-6xl font-bold tracking-tighter mb-6">
        技术博客专栏
      </h1>
      <p className="text-xl text-muted-foreground max-w-2xl">
        深入学习编程技术，从基础到进阶，记录学习过程中的思考与总结
      </p>
    </div>
    <div className="w-full md:w-64 lg:w-80">
      <div className="relative">
        <input
          type="text"
          placeholder="搜索文章..."
          className="w-full p-3 pl-10 bg-input border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
          value={searchKeyword}
          onChange={(e) => setSearchKeyword(e.target.value)}
        />
        <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground" />
      </div>
    </div>
  </div>
</div>
```

## 预期效果

1. **搜索框位置**：在博客专栏页面标题下方，与标题在同一视觉区域
2. **纯前端实现**：不使用后端服务，完全通过前端技术实现搜索功能
3. **实时搜索**：支持实时搜索，输入关键词时自动更新搜索结果
4. **搜索范围**：覆盖所有博客文章的标题和内容
5. **搜索结果**：显示匹配的文章列表，包含标题、分类和摘要
6. **用户体验**：搜索过程流畅，结果展示清晰，支持键盘操作

## 实现步骤

1. 将博客页面改为客户端组件（'use client'）
2. 实现前端数据获取逻辑，读取 Markdown 文件
3. 添加搜索框和搜索状态管理
4. 实现前端搜索算法
5. 创建搜索结果展示组件
6. 测试搜索功能
7. 优化用户体验和性能